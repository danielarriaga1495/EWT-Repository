<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WM Bot - Auth Test</title>

    <!-- BEGIN LivePerson Monitor. -->
    <script src="/assets/scripts/lpTag-31564604.js"></script>
    <!-- END LivePerson Monitor. -->

    <script>
        lpTag.section = lpTag.section || [];
        lpTag.sdes = lpTag.sdes || [];

        lpTag.section = [
            "l1: home",
            "url: " + window.location.href,
            "pageType: home"
        ];

        lpTag.sdes.push({
            "type": "personal", //MANDATORY
            "personal": {
                "firstname": "Daniel", // FIRST NAME
                "lastname": "Arriaga", // SURNAME
                "age": {
                    "age": 28, // AGE AS INTEGER
                    "year": 1995, // BIRTH YEAR
                    "month": 6, // BIRTH MONTH
                    "day": 14 // BIRTH DAY
                },
                "contacts": [
                    {
                        "email": "darriaga@liveperson.com", // EMAIL
                        "phone": "+52 8123541434", // PHONE NUMBER
                        "address": {
                            "country": "Mexico", // COUNTRY
                            "region": "Monterrey" // REGION
                        }
                    }
                ],
                "gender": "MALE", // MALE, FEMALE, OTHER
                "language": "en-US", // LANGUAGE
                "company": "Liveperson" // VISITOR COMPANY NAME
            }
        });

        lpTag.sdes.push({
            "type": "ctmrinfo", //MANDATORY
            "info": {
                "cstatus": "cancelled", //CUSTOMER LIFECYCLE STATUS. FROM PRE-DEFINED LIST
                "ctype": "b2c", //CUSTOMER TYPE OR TIER. FROM PRE-DEFINED LIST
                "customerId": "138766AC", //UNIQUE CUSTOMER IDENTIFIER
                "balance": -400.99, //THE CUSTOMER FINANCIAL BALANCE IN DECIMAL VALUE
                "currency": "USD", //CURRENCY CODE
                "socialId": "11256324780", //SOCIAL ID OF YOUR CHOICE: FACEBOOK, TWITTER
                "imei": "3543546543545688", //UNIQUE DEVICE OR PHONE IDENTIFIER
                "userName": "darriaga", //CONSUMER NICKNAME OR USERNAME
                "companySize": 500, //COMPANY SIZE MEASURED BY NUMBER OF EMPLOYEES
                "companyBranch": "East Village", //THE CUSTOMER'S COMPANY BRANCH NAME
                "accountName": "bank corp", //THE CUSTOMER'S COMPANY NAME
                "role": "broker", //CONSUMER ROLE TITLE
                "lastPaymentDate": {
                    "day": 15, //THE DAY OF THE LAST PAYMENT NUMERIC VALUE
                    "month": 10, //THE MONTH OF THE LAST PAYMENT NUMERIC VALUE
                    "year": 2014 //THE YEAR OF THE LAST PAYMENT NUMERIC VALUE
                },
                "registrationDate": {
                    "day": 23, //THE DAY OF THE REGISTRATION NUMERIC VALUE
                    "month": 5, //THE MONTH OF THE REGISTRATION NUMERIC VALUE
                    "year": 2013 //THE YEAR OF THE REGISTRATION NUMERIC VALUE
                },
                "storeNumber": "123865", //STORE NUMBER
                "storeZipCode": "20505" //STORE ZIP CODE
            }
        });

        var thdToken = "eyJzIjoiMDYyMzkyQjJEMjA2RkVCRDBVOjlmZDYzZmVkLWU1ZTQtNDVhNC1hMmRiLWJkNTE1NGI5NDFmOSIsInUiOiIwNjIzOTJCMkQyMDZGRUJEMFUiLCJpIjoiS2dsZG5nOF9iMlVGWDU3UFl0VjVSR3pPZWljLipBQUpUU1FBQ01ESUFBbE5MQUJ4TmEyZzJWa1J4VEhKTFdXaEhPRVIzZUdkcFRqbEpOMU53WWxrOUFBUjBlWEJsQUFORFZGTUFBbE14QUFJd09BLi4qIiwiYyI6IkIyQyIsInQiOiIwNjIzOTJCMkQyMDQ3RUJEMFMiLCJ2IjoxNjkxNjE0NTA4ODUwLCJrIjoieSJ9.PeWtG2IsU5i_C2dE2Km0rPLmYMvgRMYCy-rvYk8qJ4kT8axsvef28iCrVzGsK-Ypy9hc0MvlCJN3C4bfsAO9aau02TAErnfglakykjImomcrYzr1ThTGZQPeaHdnwc13_Iise4SSWlQMNXX-od9FXmRV9664HU6ddA_mOikAm54";

        const identityFn = callback => {
            callback({
                iss: "https://www.homedepot.com",
                acr: "loa1",
                sub: "eyJhbGciOiJIUzI1NiJ9." + thdToken
            })
        }

        window.lpGetAuthenticationToken = function (callback) {
            console.log("method called");
            var result = {
                ssoKey: thdToken,
                redirect_uri: window.location.href
            };
            callback(result);
        };

        lpTag.identities.push(identityFn);
    </script>

    <link rel="stylesheet" href="assets/styles/styles.css">
</head>

<body>
    <h1>WM Bot - Auth Test</h1>

    <ul>
        <li><a href="/EWT-Repository/index.html">Home</a></li>
        <li><a href="/EWT-Repository/abc-bot.html">ABC Bot</a></li>
        <li><a href="/EWT-Repository/rbm-bot.html">RBM Bot</a></li>
        <li><a href="/EWT-Repository/sms-bot.html">SMS Bot</a></li>
        <li><a href="/EWT-Repository/wm-bot.html">WM Bot</a></li>
        <li><a href="/EWT-Repository/wm-bot-pip.html">WM Bot - PIP Page</a></li>
        <li><a href="/EWT-Repository/wm-bot-plp.html">WM Bot - PLP Page</a></li>
        <li><a href="/EWT-Repository/wm-bot-auth.html">WM Bot - Auth Test</a></li>
        <li><a href="/EWT-Repository/sandbox.html">Sandbox</a></li>
    </ul>
</body>
</html>