<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EWT - Auth Test Page</title>

    <!-- BEGIN LivePerson Monitor. -->
    <script type="text/javascript">
        window.lpTag = window.lpTag || {}, 'undefined' == typeof window.lpTag._tagCount ? (window.lpTag = { wl: lpTag.wl || null, scp: lpTag.scp || null, site: '31564604' || '', section: lpTag.section || '', tagletSection: lpTag.tagletSection || null, autoStart: lpTag.autoStart !== !1, ovr: lpTag.ovr || {}, _v: '1.10.0', _tagCount: 1, protocol: 'https:', events: { bind: function (t, e, i) { lpTag.defer(function () { lpTag.events.bind(t, e, i) }, 0) }, trigger: function (t, e, i) { lpTag.defer(function () { lpTag.events.trigger(t, e, i) }, 1) } }, defer: function (t, e) { 0 === e ? (this._defB = this._defB || [], this._defB.push(t)) : 1 === e ? (this._defT = this._defT || [], this._defT.push(t)) : (this._defL = this._defL || [], this._defL.push(t)) }, load: function (t, e, i) { var n = this; setTimeout(function () { n._load(t, e, i) }, 0) }, _load: function (t, e, i) { var n = t; t || (n = this.protocol + '//' + (this.ovr && this.ovr.domain ? this.ovr.domain : 'lptag.liveperson.net') + '/tag/tag.js?site=' + this.site); var o = document.createElement('script'); o.setAttribute('charset', e ? e : 'UTF-8'), i && o.setAttribute('id', i), o.setAttribute('src', n), document.getElementsByTagName('head').item(0).appendChild(o) }, init: function () { this._timing = this._timing || {}, this._timing.start = (new Date).getTime(); var t = this; window.attachEvent ? window.attachEvent('onload', function () { t._domReady('domReady') }) : (window.addEventListener('DOMContentLoaded', function () { t._domReady('contReady') }, !1), window.addEventListener('load', function () { t._domReady('domReady') }, !1)), 'undefined' === typeof window._lptStop && this.load() }, start: function () { this.autoStart = !0 }, _domReady: function (t) { this.isDom || (this.isDom = !0, this.events.trigger('LPT', 'DOM_READY', { t: t })), this._timing[t] = (new Date).getTime() }, vars: lpTag.vars || [], dbs: lpTag.dbs || [], ctn: lpTag.ctn || [], sdes: lpTag.sdes || [], hooks: lpTag.hooks || [], identities: lpTag.identities || [], ev: lpTag.ev || [] }, lpTag.init()) : window.lpTag._tagCount += 1;
    </script>
    <!-- END LivePerson Monitor. -->

    <script>
        lpTag.section = lpTag.section || [];

        /*

            lpTag.section.push({
                pageType: "pip",
                sku: "308743988",
                storeZipCode: "78572"
            });

        */

        lpTag.section = [
            "l1: wm-bot-page",
            "url: " + window.location.href,
            "pageType: wm-bot-page"
        ];

        var thdToken = "eyJzIjoiMDYyMzkyQjJEMjA2RkVCRDBVOjk3ODI3YWM3LWFhZTMtNGE3NS05OTFjLTAxNDgwYTU0NGQ4NyIsInUiOiIwNjIzOTJCMkQyMDZGRUJEMFUiLCJpIjoiWFVWeHpWYWx5VnpnSnZtMm0tWHlYTFF6WmE0LipBQUpUU1FBQ01ESUFBbE5MQUJ4ck9VUk9PWEp2VGxRNE5XZENjM1ZNY2pSUGFXdFZXbEpoUkc4OUFBUjBlWEJsQUFORFZGTUFBbE14QUFJd05RLi4qIiwiYyI6IkIyQyIsInQiOiIwNjIzOTJCMkQyMDQ3RUJEMFMiLCJ2IjoxNjkxNjA5NDc5MDI3LCJrIjoieSJ9.CZ3z82GlVyYWlXZk5OUJZGyx50PJ6GdlXCKEGmigevdR36_kTYGcIuK0GQocggNoItGl_ReaYDkYLNBBLrmRVsO-9n_YNquIyDYigLRYD5tUD-dcHWcn5KGsJXkBBLHo8pAnmwSWzytqZK_JV8weCB9M4DpC2DOTiKKyj_2teU0";

        const identityFn = callback => {
            callback({
                iss: "https://www.homedepot.com",
                acr: "loa1",
                sub: "eyJhbGciOiJIUzI1NiJ9." + thdToken
            })
        }

        window.lpGetAuthenticationToken = function (callback) {
            console.log("method called");
            var result = {
                ssoKey: thdToken,
                redirect_uri: window.location.href
            };
            callback(result);
        };
    </script>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <h1>EWT - Auth Test Page</h1>

    <ul>
        <li><a href="/EWT-Repository/index.html">Home</a></li>
        <li><a href="/EWT-Repository/abc-bot.html">ABC Bot</a></li>
        <li><a href="/EWT-Repository/rbm-bot.html">RBM Bot</a></li>
        <li><a href="/EWT-Repository/sms-bot.html">SMS Bot</a></li>
        <li><a href="/EWT-Repository/wm-bot.html">WM Bot</a></li>
        <li><a href="/EWT-Repository/auth-test.html">Auth Test</a></li>
        <li><a href="/EWT-Repository/product-information.html">Product Information Page</a></li>
        <li><a href="/EWT-Repository/product-list.html">Product List Page</a></li>
        <li><a href="/EWT-Repository/sandbox.html">Sandbox</a></li>
    </ul>
</body>

</html>
